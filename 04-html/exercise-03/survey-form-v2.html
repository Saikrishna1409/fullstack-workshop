<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Satisfaction Survey</title>
    <link rel="stylesheet" href="survey-form-v2.css">
</head>
<body>
    <h1>Customer Satisfaction Survey</h1>
    
    <form action="#" method="POST" novalidate>
        
        <!-- Section 1: Personal Information -->
        <fieldset>
            <legend>Personal Information</legend>
            
            <div class="form-group">
                <label for="fullname">Full Name <span aria-hidden="true">*</span></label>
                <input type="text" id="fullname" name="fullname" 
                       required minlength="2" maxlength="100" 
                       placeholder="Enter your full name" 
                       autocomplete="name"
                       aria-required="true"
                       aria-describedby="fullname-help">
                <small id="fullname-help" class="help-text">Minimum 2 characters required</small>
            </div>

            <div class="form-group">
                <label for="email">Email <span aria-hidden="true">*</span></label>
                <input type="email" id="email" name="email" 
                       required placeholder="your.email@example.com"
                       autocomplete="email"
                       aria-required="true">
            </div>

            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="tel" id="phone" name="phone" 
                       pattern="[0-9]{10}" 
                       placeholder="10-digit phone number"
                       title="Please enter a 10-digit phone number"
                       list="phone-suggestions">
                <small class="help-text">Format: 10 digits only (e.g., 9876543210)</small>
            </div>

            <div class="form-group">
                <label for="age-range">Age Range</label>
                <select id="age-range" name="age-range" required>
                    <option value="">-- Select --</option>
                    <option value="under-18">Under 18</option>
                    <option value="18-24">18-24</option>
                    <option value="25-34">25-34</option>
                    <option value="35-44">35-44</option>
                    <option value="45-54">45-54</option>
                    <option value="55+">55+</option>
                </select>
            </div>

            <div class="form-group">
                <label id="gender-label">Gender <span aria-hidden="true">*</span></label>
                <fieldset role="radiogroup" aria-labelledby="gender-label" aria-required="true">
                    <label><input type="radio" name="gender" value="male" required> Male</label>
                    <label><input type="radio" name="gender" value="female"> Female</label>
                    <label><input type="radio" name="gender" value="other"> Prefer not to say</label>
                </fieldset>
            </div>
        </fieldset>

        <!-- Section 2: Product Feedback -->
        <fieldset>
            <legend>Product Feedback</legend>
            
            <div class="form-group">
                <label>Products Used (Select all that apply)</label>
                <label class="checkbox-label"><input type="checkbox" name="products[]" value="web-app"> Product A - Web Application</label>
                <label class="checkbox-label"><input type="checkbox" name="products[]" value="mobile-app"> Product B - Mobile App</label>
                <label class="checkbox-label"><input type="checkbox" name="products[]" value="desktop"> Product C - Desktop Software</label>
                <label class="checkbox-label"><input type="checkbox" name="products[]" value="api"> Product D - API Services</label>
                <label class="checkbox-label"><input type="checkbox" name="products[]" value="cloud"> Product E - Cloud Storage</label>
            </div>

            <div class="form-group">
                <label for="primary-product">Primary Product <span aria-hidden="true">*</span></label>
                <select id="primary-product" name="primary-product" required>
                    <option value="">-- Select Primary Product --</option>
                    <optgroup label="Software Products">
                        <option value="web-app">Product A - Web Application</option>
                        <option value="mobile-app">Product B - Mobile App</option>
                        <option value="desktop">Product C - Desktop Software</option>
                    </optgroup>
                    <optgroup label="Services">
                        <option value="api">Product D - API Services</option>
                        <option value="cloud">Product E - Cloud Storage</option>
                    </optgroup>
                </select>
            </div>

            <div class="form-group">
                <label for="customer-duration">How long have you been a customer?</label>
                <select id="customer-duration" name="customer-duration" required>
                    <option value="">-- Select Duration --</option>
                    <option value="less1m">Less than 1 month</option>
                    <option value="1-6m">1-6 months</option>
                    <option value="6-12m">6-12 months</option>
                    <option value="1-2y">1-2 years</option>
                    <option value="more2y">More than 2 years</option>
                </select>
            </div>
        </fieldset>

        <!-- Section 3: Satisfaction Rating -->
        <fieldset>
            <legend>Satisfaction Rating</legend>
            
            <div class="form-group">
                <label id="satisfaction-label">Overall Satisfaction <span aria-hidden="true">*</span></label>
                <fieldset role="radiogroup" aria-labelledby="satisfaction-label">
                    <label class="radio-label"><input type="radio" name="overall-satisfaction" value="1"> 1 ★</label>
                    <label class="radio-label"><input type="radio" name="overall-satisfaction" value="2"> 2 ★★</label>
                    <label class="radio-label"><input type="radio" name="overall-satisfaction" value="3"> 3 ★★★</label>
                    <label class="radio-label"><input type="radio" name="overall-satisfaction" value="4"> 4 ★★★★</label>
                    <label class="radio-label"><input type="radio" name="overall-satisfaction" value="5" required> 5 ★★★★★</label>
                </fieldset>
            </div>

            <div class="form-group">
                <label for="quality">Product Quality: <output class="range-output" id="quality-output">5</output>/10</label>
                <input type="range" id="quality" name="quality" min="1" max="10" value="5" 
                       oninput="document.getElementById('quality-output').value = this.value">
            </div>

            <div class="form-group">
                <label for="support">Customer Support: <output class="range-output" id="support-output">5</output>/10</label>
                <input type="range" id="support" name="support" min="1" max="10" value="5"
                       oninput="document.getElementById('support-output').value = this.value">
            </div>

            <div class="form-group">
                <label for="value">Value for Money: <output class="range-output" id="value-output">5</output>/10</label>
                <input type="range" id="value" name="value" min="1" max="10" value="5"
                       oninput="document.getElementById('value-output').value = this.value">
            </div>

            <div class="form-group">
                <label id="recommend-label">Would you recommend us? <span aria-hidden="true">*</span></label>
                <fieldset role="radiogroup" aria-labelledby="recommend-label">
                    <label class="radio-label"><input type="radio" name="recommend" value="definitely" required> Definitely</label>
                    <label class="radio-label"><input type="radio" name="recommend" value="probably"> Probably</label>
                    <label class="radio-label"><input type="radio" name="recommend" value="not-sure"> Not sure</label>
                    <label class="radio-label"><input type="radio" name="recommend" value="probably-not"> Probably not</label>
                    <label class="radio-label"><input type="radio" name="recommend" value="definitely-not"> Definitely not</label>
                </fieldset>
            </div>
        </fieldset>

        <!-- Section 4: Detailed Feedback -->
        <fieldset>
            <legend>Detailed Feedback</legend>
            
            <div class="form-group">
                <label for="like-most">What do you like most?</label>
                <textarea id="like-most" name="like-most" rows="4" maxlength="500"
                          placeholder="Tell us what you love about our products..."></textarea>
                <small class="char-counter" id="like-most-counter">500 characters remaining</small>
            </div>

            <div class="form-group">
                <label for="improvements">What can we improve?</label>
                <textarea id="improvements" name="improvements" rows="4" maxlength="500"
                          placeholder="Suggestions for improvement..."></textarea>
                <small class="char-counter" id="improvements-counter">500 characters remaining</small>
            </div>

            <div class="form-group">
                <label for="comments">Additional Comments</label>
                <textarea id="comments" name="comments" rows="6" maxlength="1000"
                          placeholder="Any other feedback or suggestions..."></textarea>
                <small class="char-counter" id="comments-counter">1000 characters remaining</small>
            </div>
        </fieldset>

        <!-- Section 5: Contact Preferences -->
        <fieldset>
            <legend>Contact Preferences</legend>
            
            <div class="form-group">
                <label>Preferred Contact Method (select all that apply)</label>
                <label class="checkbox-label"><input type="checkbox" name="contact[]" value="email"> Email</label>
                <label class="checkbox-label"><input type="checkbox" name="contact[]" value="phone"> Phone</label>
                <label class="checkbox-label"><input type="checkbox" name="contact[]" value="sms"> SMS</label>
                <label class="checkbox-label"><input type="checkbox" name="contact[]" value="none"> No contact</label>
            </div>

            <div class="form-group">
                <label for="contact-time">Best Time to Contact</label>
                <select id="contact-time" name="contact-time" multiple size="4">
                    <option value="morning">Morning (9am-12pm)</option>
                    <option value="afternoon">Afternoon (12pm-5pm)</option>
                    <option value="evening">Evening (5pm-8pm)</option>
                </select>
            </div>

            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="newsletter" name="newsletter" value="yes">
                    Subscribe to our newsletter
                </label>
            </div>

            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="terms" name="terms" required value="yes">
                    I agree to the <a href="#">Terms and Conditions</a> <span aria-hidden="true">*</span>
                </label>
            </div>
        </fieldset>

        <div class="form-actions">
            <button type="submit">Submit Survey</button>
            <button type="reset">Clear Form</button>
        </div>
    </form>

    <!-- Datalist for phone suggestions -->
    <datalist id="phone-suggestions">
        <option value="9876543210">
        <option value="9876543201">
        <option value="8765432109">
    </datalist>

    <script>
        // Character counters for textareas
        const textareas = ['like-most', 'improvements', 'comments'];
        const maxLengths = { 'like-most': 500, 'improvements': 500, 'comments': 1000 };

        textareas.forEach(id => {
            const textarea = document.getElementById(id);
            const counter = document.getElementById(id + '-counter');
            
            textarea.addEventListener('input', function() {
                const remaining = maxLengths[id] - this.value.length;
                counter.textContent = remaining + ' characters remaining';
                counter.style.color = remaining < 50 ? 'red' : '#666';
            });
        });
    </script>
</body>
</html>
